<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/base :: html}">
<head>
    <title>Cadastro - Sistema de Aluguel de Carros</title>
</head>
<body>
    <div th:fragment="content">
        <div class="row justify-content-center">
            <div class="col-md-10 col-lg-8">
                <div class="card shadow">
                    <div class="card-body p-5">
                        <div class="text-center mb-4">
                            <i class="bi bi-person-plus-fill text-primary" style="font-size: 3rem;"></i>
                            <h2 class="mt-3">Cadastro</h2>
                            <p class="text-muted">Crie sua conta no sistema</p>
                        </div>
                        
                        <!-- Tabs -->
                        <ul class="nav nav-tabs nav-justified mb-4" id="registerTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="client-tab" data-bs-toggle="tab" 
                                        data-bs-target="#client-pane" type="button" role="tab">
                                    <i class="bi bi-person me-2"></i>
                                    Cliente
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="agent-tab" data-bs-toggle="tab" 
                                        data-bs-target="#agent-pane" type="button" role="tab">
                                    <i class="bi bi-building me-2"></i>
                                    Agente/Empresa
                                </button>
                            </li>
                        </ul>
                        
                        <div class="tab-content" id="registerTabContent">
                            <!-- Client Registration -->
                            <div class="tab-pane fade show active" id="client-pane" role="tabpanel">
                                <form th:action="@{/register/client}" method="post" th:object="${client}">
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="clientName" class="form-label">Nome Completo *</label>
                                            <input type="text" class="form-control" id="clientName" 
                                                   th:field="*{name}" placeholder="Seu nome completo" required>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('name')}" 
                                                 th:errors="*{name}"></div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="clientEmail" class="form-label">Email *</label>
                                            <input type="email" class="form-control" id="clientEmail" 
                                                   th:field="*{email}" placeholder="seu@email.com" required>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('email')}" 
                                                 th:errors="*{email}"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="clientPassword" class="form-label">Senha *</label>
                                            <input type="password" class="form-control" id="clientPassword" 
                                                   th:field="*{password}" placeholder="Mínimo 6 caracteres" required>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('password')}" 
                                                 th:errors="*{password}"></div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="clientPhone" class="form-label">Telefone</label>
                                            <input type="tel" class="form-control" id="clientPhone" 
                                                   th:field="*{phone}" placeholder="(11) 99999-9999">
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="clientCpf" class="form-label">CPF *</label>
                                            <input type="text" class="form-control" id="clientCpf" 
                                                   th:field="*{cpf}" placeholder="00000000000" maxlength="11" required>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('cpf')}" 
                                                 th:errors="*{cpf}"></div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="clientRg" class="form-label">RG *</label>
                                            <input type="text" class="form-control" id="clientRg" 
                                                   th:field="*{rg}" placeholder="000000000" required>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('rg')}" 
                                                 th:errors="*{rg}"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="clientProfession" class="form-label">Profissão *</label>
                                            <input type="text" class="form-control" id="clientProfession" 
                                                   th:field="*{profession}" placeholder="Sua profissão" required>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('profession')}" 
                                                 th:errors="*{profession}"></div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="clientAddress" class="form-label">Endereço</label>
                                            <input type="text" class="form-control" id="clientAddress" 
                                                   th:field="*{address}" placeholder="Seu endereço completo">
                                        </div>
                                    </div>
                                    
                                    <button type="submit" class="btn btn-primary w-100">
                                        <i class="bi bi-person-plus me-2"></i>
                                        Cadastrar como Cliente
                                    </button>
                                </form>
                            </div>
                            
                            <!-- Agent Registration -->
                            <div class="tab-pane fade" id="agent-pane" role="tabpanel">
                                <form th:action="@{/register/agent}" method="post" th:object="${agent}">
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="agentName" class="form-label">Nome do Responsável *</label>
                                            <input type="text" class="form-control" id="agentName" 
                                                   th:field="*{name}" placeholder="Nome do responsável" required>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('name')}" 
                                                 th:errors="*{name}"></div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="agentEmail" class="form-label">Email *</label>
                                            <input type="email" class="form-control" id="agentEmail" 
                                                   th:field="*{email}" placeholder="contato@empresa.com" required>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('email')}" 
                                                 th:errors="*{email}"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="agentPassword" class="form-label">Senha *</label>
                                            <input type="password" class="form-control" id="agentPassword" 
                                                   th:field="*{password}" placeholder="Mínimo 6 caracteres" required>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('password')}" 
                                                 th:errors="*{password}"></div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="agentPhone" class="form-label">Telefone</label>
                                            <input type="tel" class="form-control" id="agentPhone" 
                                                   th:field="*{phone}" placeholder="(11) 99999-9999">
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="agentCpf" class="form-label">CPF do Responsável *</label>
                                            <input type="text" class="form-control" id="agentCpf" 
                                                   th:field="*{cpf}" placeholder="00000000000" maxlength="11" required>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('cpf')}" 
                                                 th:errors="*{cpf}"></div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="agentRg" class="form-label">RG do Responsável *</label>
                                            <input type="text" class="form-control" id="agentRg" 
                                                   th:field="*{rg}" placeholder="000000000" required>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('rg')}" 
                                                 th:errors="*{rg}"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="agentCnpj" class="form-label">CNPJ *</label>
                                            <input type="text" class="form-control" id="agentCnpj" 
                                                   th:field="*{cnpj}" placeholder="00000000000000" maxlength="14" required>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('cnpj')}" 
                                                 th:errors="*{cnpj}"></div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="agentCompanyName" class="form-label">Nome da Empresa *</label>
                                            <input type="text" class="form-control" id="agentCompanyName" 
                                                   th:field="*{companyName}" placeholder="Nome da empresa" required>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('companyName')}" 
                                                 th:errors="*{companyName}"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="agentType" class="form-label">Tipo de Agente *</label>
                                            <select class="form-select" id="agentType" th:field="*{agentType}" required>
                                                <option value="">Selecione o tipo</option>
                                                <option value="COMPANY">Empresa</option>
                                                <option value="BANK">Banco</option>
                                            </select>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('agentType')}" 
                                                 th:errors="*{agentType}"></div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="agentAddress" class="form-label">Endereço</label>
                                            <input type="text" class="form-control" id="agentAddress" 
                                                   th:field="*{address}" placeholder="Endereço da empresa">
                                        </div>
                                    </div>
                                    
                                    <button type="submit" class="btn btn-primary w-100">
                                        <i class="bi bi-building me-2"></i>
                                        Cadastrar como Agente
                                    </button>
                                </form>
                            </div>
                        </div>
                        
                        <div class="text-center mt-4">
                            <p class="mb-0">
                                Já tem uma conta? 
                                <a href="/login" class="text-decoration-none">Faça login aqui</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

